<?xml version="1.0"?>
<group>

    <module
        class = "InputRawImage"
        name = "IN"
        size_x = "63"
        size_y = "63"
        filename = "b%d.raw"
        filecount = "10"
        repeats = "2"
        iterations = "100" 
    /> 

    <module
        class = "GaussianEdgeDetector"
        name = "Gaussian"
        scale = "3"
    />

    <module 
        class = "EdgeSegmentation"
        name = "Edges"
        threshold = "0.1"
    />

     <module 
        class = "CircleDetector"
        name = "Circle"
        min_radius = "3"
        max_radius = "25"
    />

    <connection sourcemodule = "IN" source = "OUTPUT" targetmodule = "Gaussian" target = "INPUT" delay="0" />
    
    <connection sourcemodule = "Gaussian" source = "OUTPUT" targetmodule = "Edges" target = "INPUT" delay="0" />
    <connection sourcemodule = "Gaussian" source = "dx" targetmodule = "Edges" target = "DX" delay="0" />
    <connection sourcemodule = "Gaussian" source = "dy" targetmodule = "Edges" target = "DY" delay="0" />

    <connection sourcemodule = "Edges" source = "EDGE_LIST" targetmodule = "Circle" target = "EDGE_LIST" delay="0" />
    <connection sourcemodule = "Edges" source = "EDGE_LIST_SIZE" targetmodule = "Circle" target = "EDGE_LIST_SIZE" delay="0" />

    <view name = "V1">
        <object class="Image" module="IN" source="OUTPUT" x="0" y="0" h="2" w="2" />
        <object class="Path" module="Edges" source="EDGE_ELEMENTS" x="0" y="0" h="2" w="2" />
        <object class="Cross" module="Circle" source="POSITION" x="0" y="0" h="2" w="2" />

        <object class="Image" module="Gaussian" source="OUTPUT" x="2" y="0"  h="2" w="2" />
        <object class="Image" module="Edges" source="OUTPUT" x="4" y="0"  h="2" w="2" />

        <object class="Slider" module="Edges" parameter="threshold" min="0" max="1" x="4" y="2"  h="1" w="1" />
        <object class="Slider" module="Edges" parameter="grid" max="10" x="5" y="2"  h="1" w="1" />
    </view>
</group>

